# Stanford CS107

## Section IX: Computer architecture

If have code:

``` c
int i;
int j;

i = 10;
j = i + 7;
j ++;
```

Assuming memory segment:

``` text
       +-----------+
0xf000 |           |
0xeffc |           |
       |   | i |   | <- BP
       |   | j |   |
       |           | <- SP
       |           |
       |           |
       |           |
       |           |
       |           |
       +- - - - - -+
....              
       +- - - - - -+
0x1000 |           |
       +-----------+
```

Assume i, j are packed together within stack.
BP storing stack base address.

To visit variable `i`, using `[SP+4]`.
Thus, `i = 10;` could be written as `mov [sp+4], 10`

For `j = i + 7`, it should first load `i` and then do ALU operation.

- load `i`: `mov r1, [sp+4]`
- add: `add r2, 7`

Then, `mov [sp], r2`.
And, `inc [sp]`

## Load / Store, ALU Operations

## force conversion

Force conversion just cheat compiler rather than assembler.
Assembler knows only address.
